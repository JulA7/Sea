Úì
AC:\Users\zebra\Desktop\ĞÑ€Ñ…Ğ¸Ğ²\laba3\SeaBattle\StaticHelper.cs
public 
static 
class 
StaticHelper  
{ 
public 

static 
string 
[ 
, 
] 
ConvertToMatrix +
(+ ,
string, 2
[2 3
]3 4
[4 5
]5 6
jaggedArray7 B
)B C
{ 
int		 
rows		 
=		 
jaggedArray		 
.		 
Length		 %
;		% &
int

 
cols

 
=

 
$num

 
;

 
for 
( 
int 
i 
= 
$num 
; 
i 
< 
rows  
;  !
i" #
++# %
)% &
{ 	
if 
( 
jaggedArray 
[ 
i 
] 
. 
Length %
>& '
cols( ,
), -
{ 
cols 
= 
jaggedArray "
[" #
i# $
]$ %
.% &
Length& ,
;, -
} 
} 	
string 
[ 
, 
] 
matrix 
= 
new 
string %
[% &
rows& *
,* +
cols, 0
]0 1
;1 2
for 
( 
int 
i 
= 
$num 
; 
i 
< 
rows  
;  !
i" #
++# %
)% &
{ 	
for 
( 
int 
j 
= 
$num 
; 
j 
< 
jaggedArray  +
[+ ,
i, -
]- .
.. /
Length/ 5
;5 6
j7 8
++8 :
): ;
{ 
matrix 
[ 
i 
, 
j 
] 
= 
jaggedArray *
[* +
i+ ,
], -
[- .
j. /
]/ 0
;0 1
} 
} 	
return!! 
matrix!! 
;!! 
}"" 
public## 

static## 
string## 
[## 
]## 
[## 
]##  
ConvertToJaggedArray## 1
(##1 2
string##2 8
[##8 9
,##9 :
]##: ;!
multiDimensionalArray##< Q
)##Q R
{$$ 
int%% 
rows%% 
=%% !
multiDimensionalArray%% (
.%%( )
	GetLength%%) 2
(%%2 3
$num%%3 4
)%%4 5
;%%5 6
int&& 
cols&& 
=&& !
multiDimensionalArray&& (
.&&( )
	GetLength&&) 2
(&&2 3
$num&&3 4
)&&4 5
;&&5 6
string)) 
[)) 
])) 
[)) 
])) 
jaggedArray)) 
=))  
new))! $
string))% +
[))+ ,
rows)), 0
]))0 1
[))1 2
]))2 3
;))3 4
for++ 
(++ 
int++ 
i++ 
=++ 
$num++ 
;++ 
i++ 
<++ 
rows++  
;++  !
i++" #
++++# %
)++% &
{,, 	
jaggedArray.. 
[.. 
i.. 
].. 
=.. 
new..  
string..! '
[..' (
cols..( ,
].., -
;..- .
for00 
(00 
int00 
j00 
=00 
$num00 
;00 
j00 
<00 
cols00  $
;00$ %
j00& '
++00' )
)00) *
{11 
jaggedArray33 
[33 
i33 
]33 
[33 
j33  
]33  !
=33" #!
multiDimensionalArray33$ 9
[339 :
i33: ;
,33; <
j33= >
]33> ?
;33? @
}44 
}55 	
return77 
jaggedArray77 
;77 
}88 
public== 

static== 
int== 
[== 
]== 
[== 
]==  
ConvertToJaggedArray== .
(==. /
List==/ 3
<==3 4
(==4 5
int==5 8
Row==9 <
,==< =
int==> A
Column==B H
)==H I
>==I J
list==K O
)==O P
{>> 
int@@ 
[@@ 
]@@ 
[@@ 
]@@ 
jaggedArray@@ 
=@@ 
new@@ !
int@@" %
[@@% &
list@@& *
.@@* +
Count@@+ 0
]@@0 1
[@@1 2
]@@2 3
;@@3 4
intAA 
iAA 
=AA 
$numAA 
;AA 
listBB 
.BB 
ForEachBB 
(BB 
actionBB 
=>BB 
{CC 	
varDD 
tempDD 
=DD 
newDD 
intDD 
[DD 
$numDD  
]DD  !
;DD! "
tempEE 
[EE 
$numEE 
]EE 
=EE 
actionEE 
.EE 
RowEE  
;EE  !
tempFF 
[FF 
$numFF 
]FF 
=FF 
actionFF 
.FF 
ColumnFF #
;FF# $
jaggedArrayGG 
[GG 
iGG 
]GG 
=GG 
tempGG !
;GG! "
iHH 
++HH 
;HH 
}II 	
)II	 

;II
 
returnKK 
jaggedArrayKK 
;KK 
}LL 
publicMM 

staticMM 
ListMM 
<MM 
(MM 
intMM 
RowMM 
,MM  
intMM! $
ColumnMM% +
)MM+ ,
>MM, -
ConvertToListMovesMM. @
(MM@ A
intMMA D
[MMD E
]MME F
[MMF G
]MMG H
arrayMMI N
)MMN O
{NN 
ListOO 
<OO 
(OO 
intOO 
RowOO 
,OO 
intOO 
ColumnOO !
)OO! "
>OO" #
listOO$ (
=OO) *
newOO+ .
ListOO/ 3
<OO3 4
(OO4 5
intOO5 8
RowOO9 <
,OO< =
intOO> A
ColumnOOB H
)OOH I
>OOI J
(OOJ K
)OOK L
;OOL M
forQQ 
(QQ 
intQQ 
iQQ 
=QQ 
$numQQ 
;QQ 
iQQ 
<QQ 
arrayQQ !
.QQ! "
LengthQQ" (
;QQ( )
iQQ* +
++QQ+ -
)QQ- .
{RR 	
listSS 
.SS 
AddSS 
(SS 
(SS 
arraySS 
[SS 
iSS 
]SS 
[SS 
$numSS  
]SS  !
,SS! "
arraySS# (
[SS( )
iSS) *
]SS* +
[SS+ ,
$numSS, -
]SS- .
)SS. /
)SS/ 0
;SS0 1
}TT 	
returnVV 
listVV 
;VV 
}WW 
publicXX 

staticXX 
voidXX 
PrintMatricesXX $
(XX$ %
stringXX% +
[XX+ ,
,XX, -
]XX- .
matrix1XX/ 6
,XX6 7
stringXX8 >
[XX> ?
,XX? @
]XX@ A
matrix2XXB I
)XXI J
{YY 
ConsoleZZ 
.ZZ 
	WriteLineZZ 
(ZZ 
$strZZ 
)ZZ 
;ZZ 
Console[[ 
.[[ 
	WriteLine[[ 
([[ 
$str[[ N
)[[N O
;[[O P
Console\\ 
.\\ 
	WriteLine\\ 
(\\ 
$str\\ O
)\\O P
;\\P Q
for^^ 
(^^ 
int^^ 
i^^ 
=^^ 
$num^^ 
;^^ 
i^^ 
<^^ 
$num^^ 
;^^ 
i^^  !
++^^! #
)^^# $
{__ 	
Consoleaa 
.aa 
Writeaa 
(aa 
iaa 
+aa 
$straa #
)aa# $
;aa$ %
fordd 
(dd 
intdd 
jdd 
=dd 
$numdd 
;dd 
jdd 
<dd 
$numdd  "
;dd" #
jdd$ %
++dd% '
)dd' (
{ee 
ifff 
(ff 
matrix1ff 
[ff 
iff 
,ff 
jff  
]ff  !
==ff" $
$strff% (
||ff) +
matrix1ff, 3
[ff3 4
iff4 5
,ff5 6
jff7 8
]ff8 9
==ff: <
$strff= @
)ff@ A
{gg 
Consolehh 
.hh 
BackgroundColorhh +
=hh, -
ConsoleColorhh. :
.hh: ;
Bluehh; ?
;hh? @
}ii 
ifjj 
(jj 
matrix1jj 
[jj 
ijj 
,jj 
jjj  
]jj  !
==jj" $
$strjj% (
||jj) +
matrix1jj, 3
[jj3 4
ijj4 5
,jj5 6
jjj7 8
]jj8 9
==jj: <
$strjj= @
)jj@ A
{kk 
Consolell 
.ll 
BackgroundColorll +
=ll, -
ConsoleColorll. :
.ll: ;
Whitell; @
;ll@ A
}mm 
ifoo 
(oo 
matrix1oo 
[oo 
ioo 
,oo 
joo  
]oo  !
==oo" $
$stroo% (
||oo) +
matrix1oo, 3
[oo3 4
ioo4 5
,oo5 6
joo7 8
]oo8 9
==oo: <
$stroo= @
)oo@ A
{pp 
Consoleqq 
.qq 
ForegroundColorqq +
=qq, -
ConsoleColorqq. :
.qq: ;
DarkRedqq; B
;qqB C
Consolerr 
.rr 
Writerr !
(rr! "
$strrr" &
)rr& '
;rr' (
}ss 
elsett 
{uu 
Consolevv 
.vv 
ForegroundColorvv +
=vv, -
ConsoleColorvv. :
.vv: ;
Blackvv; @
;vv@ A
Consoleww 
.ww 
Writeww !
(ww! "
$strww" &
)ww& '
;ww' (
}yy 
Consolezz 
.zz 

ResetColorzz "
(zz" #
)zz# $
;zz$ %
}{{ 
Console~~ 
.~~ 
Write~~ 
(~~ 
$"~~ 
$str~~ 
{~~  
i~~  !
}~~! "
$str~~" %
"~~% &
)~~& '
;~~' (
for
€€ 
(
€€ 
int
€€ 
j
€€ 
=
€€ 
$num
€€ 
;
€€ 
j
€€ 
<
€€ 
$num
€€  "
;
€€" #
j
€€$ %
++
€€% '
)
€€' (
{
 
if
‚‚ 
(
‚‚ 
matrix2
‚‚ 
[
‚‚ 
i
‚‚ 
,
‚‚ 
j
‚‚  
]
‚‚  !
==
‚‚" $
$str
‚‚% (
||
‚‚) +
matrix2
‚‚, 3
[
‚‚3 4
i
‚‚4 5
,
‚‚5 6
j
‚‚7 8
]
‚‚8 9
==
‚‚: <
$str
‚‚= @
)
‚‚@ A
{
ƒƒ 
Console
„„ 
.
„„ 
BackgroundColor
„„ +
=
„„, -
ConsoleColor
„„. :
.
„„: ;
Green
„„; @
;
„„@ A
}
…… 
if
†† 
(
†† 
matrix2
†† 
[
†† 
i
†† 
,
†† 
j
††  
]
††  !
==
††" $
$str
††% (
||
††) +
matrix2
††, 3
[
††3 4
i
††4 5
,
††5 6
j
††7 8
]
††8 9
==
††: <
$str
††= @
)
††@ A
{
‡‡ 
Console
ˆˆ 
.
ˆˆ 
BackgroundColor
ˆˆ +
=
ˆˆ, -
ConsoleColor
ˆˆ. :
.
ˆˆ: ;
White
ˆˆ; @
;
ˆˆ@ A
}
‰‰ 
if
‹‹ 
(
‹‹ 
matrix2
‹‹ 
[
‹‹ 
i
‹‹ 
,
‹‹ 
j
‹‹  
]
‹‹  !
==
‹‹" $
$str
‹‹% (
||
‹‹) +
matrix2
‹‹, 3
[
‹‹3 4
i
‹‹4 5
,
‹‹5 6
j
‹‹7 8
]
‹‹8 9
==
‹‹: <
$str
‹‹= @
)
‹‹@ A
{
ŒŒ 
Console
 
.
 
ForegroundColor
 +
=
, -
ConsoleColor
. :
.
: ;
DarkRed
; B
;
B C
Console
 
.
 
Write
 !
(
! "
$str
" &
)
& '
;
' (
}
 
else
 
{
‘‘ 
Console
’’ 
.
’’ 
ForegroundColor
’’ +
=
’’, -
ConsoleColor
’’. :
.
’’: ;
Black
’’; @
;
’’@ A
Console
““ 
.
““ 
Write
““ !
(
““! "
$str
““" &
)
““& '
;
““' (
}
•• 
Console
–– 
.
–– 

ResetColor
–– "
(
––" #
)
––# $
;
––$ %
}
—— 
Console
™™ 
.
™™ 
	WriteLine
™™ 
(
™™ 
)
™™ 
;
™™  
}
šš 	
Console
›› 
.
›› 

ResetColor
›› 
(
›› 
)
›› 
;
›› 
Console
œœ 
.
œœ 
	WriteLine
œœ 
(
œœ 
$str
œœ 
)
œœ 
;
œœ 
}
 
public
ŸŸ 

static
ŸŸ 
void
ŸŸ 
PrintSeaArea
ŸŸ #
(
ŸŸ# $
string
   
[
   
,
   
]
   
myMatrix
   
,
   
List
¡¡ 
<
¡¡ 
(
¡¡ 
int
¡¡ 
Row
¡¡ 
,
¡¡ 
int
¡¡ 
Column
¡¡ !
)
¡¡! "
>
¡¡" #
myMoves
¡¡$ +
,
¡¡+ ,
string
¢¢ 
[
¢¢ 
,
¢¢ 
]
¢¢ 
anotherMatrix
¢¢ 
,
¢¢  
List
££ 
<
££ 
(
££ 
int
££ 
Row
££ 
,
££ 
int
££ 
Column
££ !
)
££! "
>
££" #
anotherMovies
££$ 1
)
¤¤ 	
{
¥¥ 
Console
¦¦ 
.
¦¦ 
	WriteLine
¦¦ 
(
¦¦ 
$str
¦¦ 
)
¦¦ 
;
¦¦ 
Console
§§ 
.
§§ 
	WriteLine
§§ 
(
§§ 
$str
§§ N
)
§§N O
;
§§O P
Console
¨¨ 
.
¨¨ 
	WriteLine
¨¨ 
(
¨¨ 
$str
¨¨ O
)
¨¨O P
;
¨¨P Q
for
ªª 
(
ªª 
int
ªª 
row
ªª 
=
ªª 
$num
ªª 
;
ªª 
row
ªª 
<
ªª 
$num
ªª  "
;
ªª" #
row
ªª$ '
++
ªª' )
)
ªª) *
{
«« 	
Console
­­ 
.
­­ 
Write
­­ 
(
­­ 
row
­­ 
+
­­ 
$str
­­  %
)
­­% &
;
­­& '
for
°° 
(
°° 
int
°° 
column
°° 
=
°° 
$num
°° 
;
°°  
column
°°! '
<
°°( )
$num
°°* ,
;
°°, -
column
°°. 4
++
°°4 6
)
°°6 7
{
±± 
var
²² #
isEnemyShootThisPoint
²² )
=
²²* +
anotherMovies
²², 9
.
²²9 :
Exists
²²: @
(
²²@ A
list
²²A E
=>
²²F H
row
²²I L
==
²²M O
list
²²P T
.
²²T U
Row
²²U X
&&
²²Y [
column
²²\ b
==
²²c e
list
²²f j
.
²²j k
Column
²²k q
)
²²q r
;
²²r s
if
³³ 
(
³³ 
myMatrix
³³ 
[
³³ 
row
³³  
,
³³  !
column
³³" (
]
³³( )
==
³³* ,
$str
³³- 0
)
³³0 1
{
´´ 
Console
µµ 
.
µµ 
BackgroundColor
µµ +
=
µµ, -
ConsoleColor
µµ. :
.
µµ: ;
Blue
µµ; ?
;
µµ? @
}
¶¶ 
if
·· 
(
·· 
myMatrix
·· 
[
·· 
row
··  
,
··  !
column
··" (
]
··( )
==
··* ,
$str
··- 0
)
··0 1
{
¸¸ 
Console
¹¹ 
.
¹¹ 
BackgroundColor
¹¹ +
=
¹¹, -
ConsoleColor
¹¹. :
.
¹¹: ;
White
¹¹; @
;
¹¹@ A
}
ºº 
if
¼¼ 
(
¼¼ #
isEnemyShootThisPoint
¼¼ )
)
¼¼) *
{
½½ 
Console
¾¾ 
.
¾¾ 
ForegroundColor
¾¾ +
=
¾¾, -
ConsoleColor
¾¾. :
.
¾¾: ;
Red
¾¾; >
;
¾¾> ?
Console
¿¿ 
.
¿¿ 
Write
¿¿ !
(
¿¿! "
$str
¿¿" &
)
¿¿& '
;
¿¿' (
}
ÀÀ 
else
ÁÁ 
{
ÂÂ 
Console
ÃÃ 
.
ÃÃ 
ForegroundColor
ÃÃ +
=
ÃÃ, -
ConsoleColor
ÃÃ. :
.
ÃÃ: ;
Black
ÃÃ; @
;
ÃÃ@ A
Console
ÄÄ 
.
ÄÄ 
Write
ÄÄ !
(
ÄÄ! "
$str
ÄÄ" &
)
ÄÄ& '
;
ÄÄ' (
}
ÆÆ 
Console
ÇÇ 
.
ÇÇ 

ResetColor
ÇÇ "
(
ÇÇ" #
)
ÇÇ# $
;
ÇÇ$ %
}
ÈÈ 
Console
ËË 
.
ËË 
Write
ËË 
(
ËË 
$"
ËË 
$str
ËË 
{
ËË  
row
ËË  #
}
ËË# $
$str
ËË$ '
"
ËË' (
)
ËË( )
;
ËË) *
for
ÍÍ 
(
ÍÍ 
int
ÍÍ 
column
ÍÍ 
=
ÍÍ 
$num
ÍÍ 
;
ÍÍ  
column
ÍÍ! '
<
ÍÍ( )
$num
ÍÍ* ,
;
ÍÍ, -
column
ÍÍ. 4
++
ÍÍ4 6
)
ÍÍ6 7
{
ÎÎ 
var
ÏÏ  
isMeShootThisPoint
ÏÏ &
=
ÏÏ' (
myMoves
ÏÏ) 0
.
ÏÏ0 1
Exists
ÏÏ1 7
(
ÏÏ7 8
list
ÏÏ8 <
=>
ÏÏ= ?
row
ÏÏ@ C
==
ÏÏD F
list
ÏÏG K
.
ÏÏK L
Row
ÏÏL O
&&
ÏÏP R
column
ÏÏS Y
==
ÏÏZ \
list
ÏÏ] a
.
ÏÏa b
Column
ÏÏb h
)
ÏÏh i
;
ÏÏi j
Console
ĞĞ 
.
ĞĞ 
BackgroundColor
ĞĞ '
=
ĞĞ( )
ConsoleColor
ĞĞ* 6
.
ĞĞ6 7
White
ĞĞ7 <
;
ĞĞ< =
if
ÑÑ 
(
ÑÑ 
anotherMatrix
ÑÑ !
[
ÑÑ! "
row
ÑÑ" %
,
ÑÑ% &
column
ÑÑ' -
]
ÑÑ- .
==
ÑÑ/ 1
$str
ÑÑ2 5
&&
ÑÑ6 8 
isMeShootThisPoint
ÑÑ9 K
)
ÑÑK L
{
ÒÒ 
Console
ÓÓ 
.
ÓÓ 
BackgroundColor
ÓÓ +
=
ÓÓ, -
ConsoleColor
ÓÓ. :
.
ÓÓ: ;
Green
ÓÓ; @
;
ÓÓ@ A
}
ÔÔ 
if
×× 
(
××  
isMeShootThisPoint
×× &
)
××& '
{
ØØ 
Console
ÙÙ 
.
ÙÙ 
ForegroundColor
ÙÙ +
=
ÙÙ, -
ConsoleColor
ÙÙ. :
.
ÙÙ: ;
Red
ÙÙ; >
;
ÙÙ> ?
Console
ÚÚ 
.
ÚÚ 
Write
ÚÚ !
(
ÚÚ! "
$str
ÚÚ" &
)
ÚÚ& '
;
ÚÚ' (
}
ÛÛ 
else
ÜÜ 
{
İİ 
Console
ŞŞ 
.
ŞŞ 
ForegroundColor
ŞŞ +
=
ŞŞ, -
ConsoleColor
ŞŞ. :
.
ŞŞ: ;
Black
ŞŞ; @
;
ŞŞ@ A
Console
ßß 
.
ßß 
Write
ßß !
(
ßß! "
$str
ßß" &
)
ßß& '
;
ßß' (
}
áá 
Console
ââ 
.
ââ 

ResetColor
ââ "
(
ââ" #
)
ââ# $
;
ââ$ %
}
ãã 
Console
åå 
.
åå 
	WriteLine
åå 
(
åå 
)
åå 
;
åå  
}
ææ 	
Console
çç 
.
çç 

ResetColor
çç 
(
çç 
)
çç 
;
çç 
Console
èè 
.
èè 
	WriteLine
èè 
(
èè 
$str
èè 
)
èè 
;
èè 
}
êê 
public
ìì 

static
ìì 
string
ìì 
[
ìì 
,
ìì 
]
ìì 
GetMatrixFromFile
ìì -
(
ìì- .
string
ìì. 4
fileName
ìì5 =
)
ìì= >
{
íí 
string
îî 

JsonString
îî 
=
îî 
File
îî  
.
îî  !
ReadAllText
îî! ,
(
îî, -
fileName
îî- 5
)
îî5 6
;
îî6 7
JsonPlayerArea
ïï 
JsonArea
ïï 
=
ïï  !
JsonSerializer
ïï" 0
.
ïï0 1
Deserialize
ïï1 <
<
ïï< =
JsonPlayerArea
ïï= K
>
ïïK L
(
ïïL M

JsonString
ïïM W
)
ïïW X
!
ïïX Y
;
ïïY Z
var
ğğ 
matrix
ğğ 
=
ğğ 
ConvertToMatrix
ğğ $
(
ğğ$ %
JsonArea
ğğ% -
.
ğğ- .
Area
ğğ. 2
)
ğğ2 3
;
ğğ3 4
return
òò 
matrix
òò 
;
òò 
}
óó 
public
ôô 

static
ôô 
int
ôô +
TransformColumnLetterToNumber
ôô 3
(
ôô3 4
string
ôô4 :
input
ôô; @
)
ôô@ A
{
õõ 
if
öö 

(
öö 
input
öö 
==
öö 
$str
öö 
)
öö 
return
öö  
$num
öö! "
;
öö" #
if
÷÷ 

(
÷÷ 
input
÷÷ 
==
÷÷ 
$str
÷÷ 
)
÷÷ 
return
÷÷  
$num
÷÷! "
;
÷÷" #
if
øø 

(
øø 
input
øø 
==
øø 
$str
øø 
)
øø 
return
øø  
$num
øø! "
;
øø" #
if
ùù 

(
ùù 
input
ùù 
==
ùù 
$str
ùù 
)
ùù 
return
ùù  
$num
ùù! "
;
ùù" #
if
úú 

(
úú 
input
úú 
==
úú 
$str
úú 
)
úú 
return
úú  
$num
úú! "
;
úú" #
if
ûû 

(
ûû 
input
ûû 
==
ûû 
$str
ûû 
)
ûû 
return
ûû  
$num
ûû! "
;
ûû" #
if
üü 

(
üü 
input
üü 
==
üü 
$str
üü 
)
üü 
return
üü  
$num
üü! "
;
üü" #
if
ıı 

(
ıı 
input
ıı 
==
ıı 
$str
ıı 
)
ıı 
return
ıı  
$num
ıı! "
;
ıı" #
if
şş 

(
şş 
input
şş 
==
şş 
$str
şş 
)
şş 
return
şş  
$num
şş! "
;
şş" #
if
ÿÿ 

(
ÿÿ 
input
ÿÿ 
==
ÿÿ 
$str
ÿÿ 
)
ÿÿ 
return
ÿÿ  
$num
ÿÿ! "
;
ÿÿ" #
return
€€ 
-
€€ 
$num
€€ 
;
€€ 
}
 
public
ƒƒ 

static
ƒƒ 
int
ƒƒ !
GetCountHintsInArea
ƒƒ )
(
ƒƒ) *
string
ƒƒ* 0
[
ƒƒ0 1
,
ƒƒ1 2
]
ƒƒ2 3
matrix
ƒƒ4 :
,
ƒƒ: ;
List
ƒƒ< @
<
ƒƒ@ A
(
ƒƒA B
int
ƒƒB E
Row
ƒƒF I
,
ƒƒI J
int
ƒƒK N
Column
ƒƒO U
)
ƒƒU V
>
ƒƒV W
moves
ƒƒX ]
)
ƒƒ] ^
{
„„ 
int
…… 
	HitĞ¡ount
…… 
=
…… 
$num
…… 
;
…… 
for
†† 
(
†† 
int
†† 
row
†† 
=
†† 
$num
†† 
;
†† 
row
†† 
<
†† 
$num
††  "
;
††" #
row
††$ '
++
††' )
)
††) *
{
‡‡ 	
for
ˆˆ 
(
ˆˆ 
int
ˆˆ 
column
ˆˆ 
=
ˆˆ 
$num
ˆˆ 
;
ˆˆ  
column
ˆˆ! '
<
ˆˆ( )
$num
ˆˆ* ,
;
ˆˆ, -
column
ˆˆ. 4
++
ˆˆ4 6
)
ˆˆ6 7
{
‰‰ 
if
ŠŠ 
(
ŠŠ 
matrix
ŠŠ 
[
ŠŠ 
row
ŠŠ 
,
ŠŠ 
column
ŠŠ  &
]
ŠŠ& '
==
ŠŠ( *
$str
ŠŠ+ .
)
ŠŠ. /
{
‹‹ 
var
ŒŒ 
isFire
ŒŒ 
=
ŒŒ  
moves
ŒŒ! &
.
ŒŒ& '
Exists
ŒŒ' -
(
ŒŒ- .
point
ŒŒ. 3
=>
ŒŒ4 6
point
ŒŒ7 <
.
ŒŒ< =
Column
ŒŒ= C
==
ŒŒD F
column
ŒŒG M
&&
ŒŒN P
point
ŒŒQ V
.
ŒŒV W
Row
ŒŒW Z
==
ŒŒ[ ]
row
ŒŒ^ a
)
ŒŒa b
;
ŒŒb c
if
 
(
 
isFire
 
)
 
	HitĞ¡ount
  (
++
( *
;
* +
}
 
}
 
}
 	
return
‘‘ 
	HitĞ¡ount
‘‘ 
;
‘‘ 
}
’’ 
public
““ 

static
““ 
bool
““ 
	IsEndGame
““  
(
““  !
string
““! '
[
““' (
,
““( )
]
““) *
matrix
““+ 1
,
““1 2
List
““3 7
<
““7 8
(
““8 9
int
““9 <
Row
““= @
,
““@ A
int
““B E
Column
““F L
)
““L M
>
““M N
moves
““O T
)
““T U
{
”” 
var
•• 
	HitĞ¡ount
•• 
=
•• !
GetCountHintsInArea
•• *
(
••* +
matrix
••+ 1
,
••1 2
moves
••3 8
)
••8 9
;
••9 :
return
–– 
	HitĞ¡ount
–– 
==
–– 
$num
–– 
;
–– 
}
—— 
public
˜˜ 

static
˜˜ 
bool
˜˜ %
Is50ProcentGameComplete
˜˜ .
(
˜˜. /
string
˜˜/ 5
[
˜˜5 6
,
˜˜6 7
]
˜˜7 8
matrix
˜˜9 ?
,
˜˜? @
List
˜˜A E
<
˜˜E F
(
˜˜F G
int
˜˜G J
Row
˜˜K N
,
˜˜N O
int
˜˜P S
Column
˜˜T Z
)
˜˜Z [
>
˜˜[ \
moves
˜˜] b
)
˜˜b c
{
™™ 
var
šš 
	HitĞ¡ount
šš 
=
šš !
GetCountHintsInArea
šš *
(
šš* +
matrix
šš+ 1
,
šš1 2
moves
šš3 8
)
šš8 9
;
šš9 :
return
›› 
	HitĞ¡ount
›› 
>
›› 
$num
›› 
;
›› 
}
œœ 
public
 

static
 
bool
 

IsNewPoint
 !
(
! "
List
" &
<
& '
(
' (
int
( +
Row
, /
,
/ 0
int
1 4
Column
5 ;
)
; <
>
< =
moves
> C
,
C D
(
E F
int
F I
Row
J M
,
M N
int
O R
Column
S Y
)
Y Z
point
[ `
)
` a
{
ŸŸ 
var
   
isExists
   
=
   
moves
   
.
   
Exists
   #
(
  # $
Point
  $ )
=>
  * ,
Point
  - 2
.
  2 3
Column
  3 9
==
  : <
point
  = B
.
  B C
Column
  C I
&&
  J L
Point
  M R
.
  R S
Row
  S V
==
  W Y
point
  Z _
.
  _ `
Row
  ` c
)
  c d
;
  d e
return
¡¡ 
!
¡¡ 
isExists
¡¡ 
;
¡¡ 
}
¢¢ 
public
££ 

static
££ 
bool
££ 
CheckPointHit
££ $
(
££$ %
string
££% +
[
££+ ,
,
££, -
]
££- .
matrix
££/ 5
,
££5 6
(
££7 8
int
££8 ;
Row
££< ?
,
££? @
int
££A D
Column
££E K
)
££K L
point
££M R
)
££R S
{
¤¤ 
return
¥¥ 
matrix
¥¥ 
[
¥¥ 
point
¥¥ 
.
¥¥ 
Row
¥¥ 
,
¥¥  
point
¥¥! &
.
¥¥& '
Column
¥¥' -
]
¥¥- .
==
¥¥/ 1
$str
¥¥2 5
;
¥¥5 6
}
¦¦ 
private
¨¨ 
static
¨¨ 
void
¨¨ 
PointForFigure
¨¨ &
(
¨¨& '
string
¨¨' -
[
¨¨- .
,
¨¨. /
]
¨¨/ 0
matrix
¨¨1 7
,
¨¨7 8
List
¨¨9 =
<
¨¨= >
(
¨¨> ?
int
¨¨? B
Row
¨¨C F
,
¨¨F G
int
¨¨H K
Column
¨¨L R
)
¨¨R S
>
¨¨S T
figure
¨¨U [
,
¨¨[ \
(
¨¨] ^
int
¨¨^ a
Row
¨¨b e
,
¨¨e f
int
¨¨g j
Column
¨¨k q
)
¨¨q r
point
¨¨s x
)
¨¨x y
{
©© 
var
ªª 
isOk
ªª 
=
ªª 
point
ªª 
.
ªª 
Row
ªª 
>=
ªª 
$num
ªª  !
&&
ªª" $
point
ªª% *
.
ªª* +
Row
ªª+ .
<
ªª/ 0
$num
ªª1 3
&&
ªª4 6
point
ªª7 <
.
ªª< =
Column
ªª= C
>=
ªªD F
$num
ªªG H
&&
ªªI K
point
ªªL Q
.
ªªQ R
Column
ªªR X
<
ªªY Z
$num
ªª[ ]
;
ªª] ^
if
«« 

(
«« 
!
«« 
isOk
«« 
)
«« 
return
«« 
;
«« 
if
­­ 

(
­­ 
matrix
­­ 
[
­­ 
point
­­ 
.
­­ 
Row
­­ 
,
­­ 
point
­­ #
.
­­# $
Column
­­$ *
]
­­* +
==
­­, .
$str
­­/ 2
)
­­2 3
{
®® 	
var
¯¯ 
isExists
¯¯ 
=
¯¯ 
figure
¯¯ !
.
¯¯! "
Exists
¯¯" (
(
¯¯( )
fig
¯¯) ,
=>
¯¯- /
fig
¯¯0 3
.
¯¯3 4
Row
¯¯4 7
==
¯¯8 :
point
¯¯; @
.
¯¯@ A
Row
¯¯A D
&&
¯¯E G
fig
¯¯H K
.
¯¯K L
Column
¯¯L R
==
¯¯S U
point
¯¯V [
.
¯¯[ \
Column
¯¯\ b
)
¯¯b c
;
¯¯c d
if
°° 
(
°° 
!
°° 
isExists
°° 
)
°° 
figure
°° !
.
°°! "
Add
°°" %
(
°°% &
(
°°& '
point
°°' ,
.
°°, -
Row
°°- 0
,
°°0 1
point
°°2 7
.
°°7 8
Column
°°8 >
)
°°> ?
)
°°? @
;
°°@ A
}
±± 	
}
³³ 
static
´´ 

List
´´ 
<
´´ 
(
´´ 
int
´´ 
Row
´´ 
,
´´ 
int
´´ 
Column
´´ $
)
´´$ %
>
´´% &
	GetFigure
´´' 0
(
´´0 1
string
´´1 7
[
´´7 8
,
´´8 9
]
´´9 :
matrix
´´; A
,
´´A B
(
´´C D
int
´´D G
Row
´´H K
,
´´K L
int
´´M P
Column
´´Q W
)
´´W X
point
´´Y ^
)
´´^ _
{
µµ 
List
¶¶ 
<
¶¶ 
(
¶¶ 
int
¶¶ 
Row
¶¶ 
,
¶¶ 
int
¶¶ 
Column
¶¶ !
)
¶¶! "
>
¶¶" #
Figure
¶¶$ *
=
¶¶+ ,
new
¶¶- 0
List
¶¶1 5
<
¶¶5 6
(
¶¶6 7
int
¶¶7 :
Row
¶¶; >
,
¶¶> ?
int
¶¶@ C
Column
¶¶D J
)
¶¶J K
>
¶¶K L
{
¶¶M N
(
¶¶O P
point
¶¶P U
.
¶¶U V
Row
¶¶V Y
,
¶¶Y Z
point
¶¶[ `
.
¶¶` a
Column
¶¶a g
)
¶¶g h
}
¶¶i j
;
¶¶j k
for
·· 
(
·· 
int
·· 
i
·· 
=
·· 
$num
·· 
;
·· 
i
·· 
<
·· 
$num
·· 
;
·· 
i
··  
++
··  "
)
··" #
{
¸¸ 	
List
¹¹ 
<
¹¹ 
(
¹¹ 
int
¹¹ 
Row
¹¹ 
,
¹¹ 
int
¹¹ 
Column
¹¹ %
)
¹¹% &
>
¹¹& '
FigureClone
¹¹( 3
=
¹¹4 5
new
¹¹6 9
List
¹¹: >
<
¹¹> ?
(
¹¹? @
int
¹¹@ C
Row
¹¹D G
,
¹¹G H
int
¹¹I L
Column
¹¹M S
)
¹¹S T
>
¹¹T U
(
¹¹U V
Figure
¹¹V \
)
¹¹\ ]
;
¹¹] ^
FigureClone
ºº 
.
ºº 
ForEach
ºº 
(
ºº  
figurePoint
ºº  +
=>
ºº, .
{
»» 
var
½½ 
(
½½ 
TopRow
½½ 
,
½½ 
	TopColumn
½½ &
)
½½& '
=
½½( )
(
½½* +
figurePoint
½½+ 6
.
½½6 7
Row
½½7 :
-
½½; <
$num
½½= >
,
½½> ?
figurePoint
½½@ K
.
½½K L
Column
½½L R
)
½½R S
;
½½S T
var
¾¾ 
(
¾¾ 
	BottomRow
¾¾ 
,
¾¾ 
BottomColumn
¾¾  ,
)
¾¾, -
=
¾¾. /
(
¾¾0 1
figurePoint
¾¾1 <
.
¾¾< =
Row
¾¾= @
+
¾¾A B
$num
¾¾C D
,
¾¾D E
figurePoint
¾¾F Q
.
¾¾Q R
Column
¾¾R X
)
¾¾X Y
;
¾¾Y Z
var
¿¿ 
(
¿¿ 
RightRow
¿¿ 
,
¿¿ 
RightColumn
¿¿ *
)
¿¿* +
=
¿¿, -
(
¿¿. /
figurePoint
¿¿/ :
.
¿¿: ;
Row
¿¿; >
,
¿¿> ?
figurePoint
¿¿@ K
.
¿¿K L
Column
¿¿L R
+
¿¿S T
$num
¿¿U V
)
¿¿V W
;
¿¿W X
var
ÀÀ 
(
ÀÀ 
LeftRow
ÀÀ 
,
ÀÀ 

LeftColumn
ÀÀ (
)
ÀÀ( )
=
ÀÀ* +
(
ÀÀ, -
figurePoint
ÀÀ- 8
.
ÀÀ8 9
Row
ÀÀ9 <
,
ÀÀ< =
figurePoint
ÀÀ> I
.
ÀÀI J
Column
ÀÀJ P
-
ÀÀQ R
$num
ÀÀS T
)
ÀÀT U
;
ÀÀU V
PointForFigure
ÂÂ 
(
ÂÂ 
matrix
ÂÂ %
,
ÂÂ% &
Figure
ÂÂ' -
,
ÂÂ- .
(
ÂÂ/ 0
TopRow
ÂÂ0 6
,
ÂÂ6 7
	TopColumn
ÂÂ8 A
)
ÂÂA B
)
ÂÂB C
;
ÂÂC D
PointForFigure
ÃÃ 
(
ÃÃ 
matrix
ÃÃ %
,
ÃÃ% &
Figure
ÃÃ' -
,
ÃÃ- .
(
ÃÃ/ 0
	BottomRow
ÃÃ0 9
,
ÃÃ9 :
BottomColumn
ÃÃ; G
)
ÃÃG H
)
ÃÃH I
;
ÃÃI J
PointForFigure
ÄÄ 
(
ÄÄ 
matrix
ÄÄ %
,
ÄÄ% &
Figure
ÄÄ' -
,
ÄÄ- .
(
ÄÄ/ 0
RightRow
ÄÄ0 8
,
ÄÄ8 9
RightColumn
ÄÄ: E
)
ÄÄE F
)
ÄÄF G
;
ÄÄG H
PointForFigure
ÅÅ 
(
ÅÅ 
matrix
ÅÅ %
,
ÅÅ% &
Figure
ÅÅ' -
,
ÅÅ- .
(
ÅÅ/ 0
LeftRow
ÅÅ0 7
,
ÅÅ7 8

LeftColumn
ÅÅ9 C
)
ÅÅC D
)
ÅÅD E
;
ÅÅE F
}
ÇÇ 
)
ÇÇ 
;
ÇÇ 
}
ÈÈ 	
return
ÊÊ 
Figure
ÊÊ 
;
ÊÊ 
}
ËË 
public
ÌÌ 

static
ÌÌ 
bool
ÌÌ 
CheckPointKill
ÌÌ %
(
ÌÌ% &
string
ÌÌ& ,
[
ÌÌ, -
,
ÌÌ- .
]
ÌÌ. /
matrix
ÌÌ0 6
,
ÌÌ6 7
List
ÌÌ8 <
<
ÌÌ< =
(
ÌÌ= >
int
ÌÌ> A
Row
ÌÌB E
,
ÌÌE F
int
ÌÌG J
Column
ÌÌK Q
)
ÌÌQ R
>
ÌÌR S
moves
ÌÌT Y
,
ÌÌY Z
(
ÌÌ[ \
int
ÌÌ\ _
Row
ÌÌ` c
,
ÌÌc d
int
ÌÌe h
Column
ÌÌi o
)
ÌÌo p
point
ÌÌq v
)
ÌÌv w
{
ÍÍ 
List
ÎÎ 
<
ÎÎ 
(
ÎÎ 
int
ÎÎ 
Row
ÎÎ 
,
ÎÎ 
int
ÎÎ 
Column
ÎÎ !
)
ÎÎ! "
>
ÎÎ" #
Figure
ÎÎ$ *
=
ÎÎ+ ,
	GetFigure
ÎÎ- 6
(
ÎÎ6 7
matrix
ÎÎ7 =
,
ÎÎ= >
point
ÎÎ? D
)
ÎÎD E
;
ÎÎE F
bool
ĞĞ 
IsKill
ĞĞ 
=
ĞĞ 
true
ĞĞ 
;
ĞĞ 
Figure
ÒÒ 
.
ÒÒ 
ForEach
ÒÒ 
(
ÒÒ 
figure
ÒÒ 
=>
ÒÒ  
{
ÓÓ 	
var
ÔÔ 
isExists
ÔÔ 
=
ÔÔ 
moves
ÔÔ  
.
ÔÔ  !
Exists
ÔÔ! '
(
ÔÔ' (
move
ÔÔ( ,
=>
ÔÔ- /
move
ÔÔ0 4
.
ÔÔ4 5
Row
ÔÔ5 8
==
ÔÔ9 ;
figure
ÔÔ< B
.
ÔÔB C
Row
ÔÔC F
&&
ÔÔG I
move
ÔÔJ N
.
ÔÔN O
Column
ÔÔO U
==
ÔÔV X
figure
ÔÔY _
.
ÔÔ_ `
Column
ÔÔ` f
)
ÔÔf g
;
ÔÔg h
IsKill
ÕÕ 
=
ÕÕ 
IsKill
ÕÕ 
&&
ÕÕ 
isExists
ÕÕ '
;
ÕÕ' (
}
ÖÖ 	
)
ÖÖ	 

;
ÖÖ
 
return
ØØ 
IsKill
ØØ 
;
ØØ 
}
ÙÙ 
public
ÚÚ 

static
ÚÚ 
List
ÚÚ 
<
ÚÚ 
(
ÚÚ 
int
ÚÚ 
Row
ÚÚ 
,
ÚÚ  
int
ÚÚ! $
Column
ÚÚ% +
)
ÚÚ+ ,
>
ÚÚ, -!
GetPointArounFigure
ÚÚ. A
(
ÚÚA B
string
ÚÚB H
[
ÚÚH I
,
ÚÚI J
]
ÚÚJ K
matrix
ÚÚL R
,
ÚÚR S
List
ÚÚT X
<
ÚÚX Y
(
ÚÚY Z
int
ÚÚZ ]
Row
ÚÚ^ a
,
ÚÚa b
int
ÚÚc f
Column
ÚÚg m
)
ÚÚm n
>
ÚÚn o
moves
ÚÚp u
,
ÚÚu v
(
ÚÚw x
int
ÚÚx {
Row
ÚÚ| 
,ÚÚ €
intÚÚ „
ColumnÚÚ… ‹
)ÚÚ‹ Œ
pointÚÚ ’
)ÚÚ’ “
{
ÛÛ 
List
ÜÜ 
<
ÜÜ 
(
ÜÜ 
int
ÜÜ 
Row
ÜÜ 
,
ÜÜ 
int
ÜÜ 
Column
ÜÜ !
)
ÜÜ! "
>
ÜÜ" #
Points
ÜÜ$ *
=
ÜÜ+ ,
new
ÜÜ- 0
List
ÜÜ1 5
<
ÜÜ5 6
(
ÜÜ6 7
int
ÜÜ7 :
Row
ÜÜ; >
,
ÜÜ> ?
int
ÜÜ@ C
Column
ÜÜD J
)
ÜÜJ K
>
ÜÜK L
(
ÜÜL M
)
ÜÜM N
;
ÜÜN O
List
İİ 
<
İİ 
(
İİ 
int
İİ 
Row
İİ 
,
İİ 
int
İİ 
Column
İİ !
)
İİ! "
>
İİ" #
Figure
İİ$ *
=
İİ+ ,
	GetFigure
İİ- 6
(
İİ6 7
matrix
İİ7 =
,
İİ= >
point
İİ? D
)
İİD E
;
İİE F
Figure
ßß 
.
ßß 
ForEach
ßß 
(
ßß 
figure
ßß 
=>
ßß  
{
àà 	
Points
áá 
.
áá 
Add
áá 
(
áá 
figure
áá 
)
áá 
;
áá 
var
ãã 
p1
ãã 
=
ãã 
(
ãã 
figure
ãã 
.
ãã 
Row
ãã  
-
ãã! "
$num
ãã# $
,
ãã$ %
figure
ãã& ,
.
ãã, -
Column
ãã- 3
-
ãã4 5
$num
ãã6 7
)
ãã7 8
;
ãã8 9
var
ää 
p2
ää 
=
ää 
(
ää 
figure
ää 
.
ää 
Row
ää  
,
ää  !
figure
ää" (
.
ää( )
Column
ää) /
-
ää0 1
$num
ää2 3
)
ää3 4
;
ää4 5
var
åå 
p3
åå 
=
åå 
(
åå 
figure
åå 
.
åå 
Row
åå  
+
åå! "
$num
åå# $
,
åå$ %
figure
åå& ,
.
åå, -
Column
åå- 3
-
åå4 5
$num
åå6 7
)
åå7 8
;
åå8 9
var
çç 
p4
çç 
=
çç 
(
çç 
figure
çç 
.
çç 
Row
çç  
-
çç! "
$num
çç# $
,
çç$ %
figure
çç& ,
.
çç, -
Column
çç- 3
)
çç3 4
;
çç4 5
var
èè 
p5
èè 
=
èè 
(
èè 
figure
èè 
.
èè 
Row
èè  
,
èè  !
figure
èè" (
.
èè( )
Column
èè) /
)
èè/ 0
;
èè0 1
var
éé 
p6
éé 
=
éé 
(
éé 
figure
éé 
.
éé 
Row
éé  
+
éé! "
$num
éé# $
,
éé$ %
figure
éé& ,
.
éé, -
Column
éé- 3
)
éé3 4
;
éé4 5
var
ëë 
p7
ëë 
=
ëë 
(
ëë 
figure
ëë 
.
ëë 
Row
ëë  
-
ëë! "
$num
ëë# $
,
ëë$ %
figure
ëë& ,
.
ëë, -
Column
ëë- 3
+
ëë4 5
$num
ëë6 7
)
ëë7 8
;
ëë8 9
var
ìì 
p8
ìì 
=
ìì 
(
ìì 
figure
ìì 
.
ìì 
Row
ìì  
,
ìì  !
figure
ìì" (
.
ìì( )
Column
ìì) /
+
ìì0 1
$num
ìì2 3
)
ìì3 4
;
ìì4 5
var
íí 
p9
íí 
=
íí 
(
íí 
figure
íí 
.
íí 
Row
íí  
+
íí! "
$num
íí# $
,
íí$ %
figure
íí& ,
.
íí, -
Column
íí- 3
+
íí4 5
$num
íí6 7
)
íí7 8
;
íí8 9
if
ïï 
(
ïï 
p1
ïï 
.
ïï 
Item1
ïï 
>=
ïï 
$num
ïï 
&&
ïï  
p1
ïï! #
.
ïï# $
Item1
ïï$ )
<
ïï* +
$num
ïï, .
&&
ïï/ 1
p1
ïï2 4
.
ïï4 5
Item2
ïï5 :
>=
ïï; =
$num
ïï> ?
&&
ïï@ B
p1
ïïC E
.
ïïE F
Item2
ïïF K
<
ïïL M
$num
ïïN P
&&
ïïQ S
!
ğğ 
Points
ğğ 
.
ğğ 
Exists
ğğ 
(
ğğ 
point
ğğ $
=>
ğğ% '
point
ğğ( -
.
ğğ- .
Row
ğğ. 1
==
ğğ2 4
p1
ğğ5 7
.
ğğ7 8
Item1
ğğ8 =
&&
ğğ> @
point
ğğA F
.
ğğF G
Column
ğğG M
==
ğğN P
p1
ğğQ S
.
ğğS T
Item2
ğğT Y
)
ğğY Z
)
ññ 
Points
ññ 
.
ññ 
Add
ññ 
(
ññ 
p1
ññ 
)
ññ 
;
ññ 
if
óó 
(
óó 
p2
óó 
.
óó 
Item1
óó 
>=
óó 
$num
óó 
&&
óó  
p2
óó! #
.
óó# $
Item1
óó$ )
<
óó* +
$num
óó, .
&&
óó/ 1
p2
óó2 4
.
óó4 5
Item2
óó5 :
>=
óó; =
$num
óó> ?
&&
óó@ B
p2
óóC E
.
óóE F
Item2
óóF K
<
óóL M
$num
óóN P
&&
óóQ S
!
ôô 
Points
ôô 
.
ôô 
Exists
ôô 
(
ôô 
point
ôô $
=>
ôô% '
point
ôô( -
.
ôô- .
Row
ôô. 1
==
ôô2 4
p2
ôô5 7
.
ôô7 8
Item1
ôô8 =
&&
ôô> @
point
ôôA F
.
ôôF G
Column
ôôG M
==
ôôN P
p2
ôôQ S
.
ôôS T
Item2
ôôT Y
)
ôôY Z
)
õõ 
Points
õõ 
.
õõ 
Add
õõ 
(
õõ 
p2
õõ 
)
õõ 
;
õõ 
if
÷÷ 
(
÷÷ 
p3
÷÷ 
.
÷÷ 
Item1
÷÷ 
>=
÷÷ 
$num
÷÷ 
&&
÷÷  
p3
÷÷! #
.
÷÷# $
Item1
÷÷$ )
<
÷÷* +
$num
÷÷, .
&&
÷÷/ 1
p3
÷÷2 4
.
÷÷4 5
Item2
÷÷5 :
>=
÷÷; =
$num
÷÷> ?
&&
÷÷@ B
p3
÷÷C E
.
÷÷E F
Item2
÷÷F K
<
÷÷L M
$num
÷÷N P
&&
÷÷Q S
!
øø 
Points
øø 
.
øø 
Exists
øø 
(
øø 
point
øø $
=>
øø% '
point
øø( -
.
øø- .
Row
øø. 1
==
øø2 4
p3
øø5 7
.
øø7 8
Item1
øø8 =
&&
øø> @
point
øøA F
.
øøF G
Column
øøG M
==
øøN P
p3
øøQ S
.
øøS T
Item2
øøT Y
)
øøY Z
)
ùù 
Points
ùù 
.
ùù 
Add
ùù 
(
ùù 
p3
ùù 
)
ùù 
;
ùù 
if
ûû 
(
ûû 
p4
ûû 
.
ûû 
Item1
ûû 
>=
ûû 
$num
ûû 
&&
ûû  
p4
ûû! #
.
ûû# $
Item1
ûû$ )
<
ûû* +
$num
ûû, .
&&
ûû/ 1
p4
ûû2 4
.
ûû4 5
Item2
ûû5 :
>=
ûû; =
$num
ûû> ?
&&
ûû@ B
p4
ûûC E
.
ûûE F
Item2
ûûF K
<
ûûL M
$num
ûûN P
&&
ûûQ S
!
üü 
Points
üü 
.
üü 
Exists
üü 
(
üü 
point
üü $
=>
üü% '
point
üü( -
.
üü- .
Row
üü. 1
==
üü2 4
p4
üü5 7
.
üü7 8
Item1
üü8 =
&&
üü> @
point
üüA F
.
üüF G
Column
üüG M
==
üüN P
p4
üüQ S
.
üüS T
Item2
üüT Y
)
üüY Z
)
ıı 
Points
ıı 
.
ıı 
Add
ıı 
(
ıı 
p4
ıı 
)
ıı 
;
ıı 
if
ÿÿ 
(
ÿÿ 
p5
ÿÿ 
.
ÿÿ 
Item1
ÿÿ 
>=
ÿÿ 
$num
ÿÿ 
&&
ÿÿ  
p5
ÿÿ! #
.
ÿÿ# $
Item1
ÿÿ$ )
<
ÿÿ* +
$num
ÿÿ, .
&&
ÿÿ/ 1
p5
ÿÿ2 4
.
ÿÿ4 5
Item2
ÿÿ5 :
>=
ÿÿ; =
$num
ÿÿ> ?
&&
ÿÿ@ B
p5
ÿÿC E
.
ÿÿE F
Item2
ÿÿF K
<
ÿÿL M
$num
ÿÿN P
&&
ÿÿQ S
!
€€ 
Points
€€ 
.
€€ 
Exists
€€ 
(
€€ 
point
€€ $
=>
€€% '
point
€€( -
.
€€- .
Row
€€. 1
==
€€2 4
p5
€€5 7
.
€€7 8
Item1
€€8 =
&&
€€> @
point
€€A F
.
€€F G
Column
€€G M
==
€€N P
p5
€€Q S
.
€€S T
Item2
€€T Y
)
€€Y Z
)
 
Points
 
.
 
Add
 
(
 
p5
 
)
 
;
 
if
ƒƒ 
(
ƒƒ 
p6
ƒƒ 
.
ƒƒ 
Item1
ƒƒ 
>=
ƒƒ 
$num
ƒƒ 
&&
ƒƒ  
p6
ƒƒ! #
.
ƒƒ# $
Item1
ƒƒ$ )
<
ƒƒ* +
$num
ƒƒ, .
&&
ƒƒ/ 1
p6
ƒƒ2 4
.
ƒƒ4 5
Item2
ƒƒ5 :
>=
ƒƒ; =
$num
ƒƒ> ?
&&
ƒƒ@ B
p6
ƒƒC E
.
ƒƒE F
Item2
ƒƒF K
<
ƒƒL M
$num
ƒƒN P
&&
ƒƒQ S
!
„„ 
Points
„„ 
.
„„ 
Exists
„„ 
(
„„ 
point
„„ $
=>
„„% '
point
„„( -
.
„„- .
Row
„„. 1
==
„„2 4
p6
„„5 7
.
„„7 8
Item1
„„8 =
&&
„„> @
point
„„A F
.
„„F G
Column
„„G M
==
„„N P
p6
„„Q S
.
„„S T
Item2
„„T Y
)
„„Y Z
)
…… 
Points
…… 
.
…… 
Add
…… 
(
…… 
p6
…… 
)
…… 
;
…… 
if
‡‡ 
(
‡‡ 
p7
‡‡ 
.
‡‡ 
Item1
‡‡ 
>=
‡‡ 
$num
‡‡ 
&&
‡‡  
p7
‡‡! #
.
‡‡# $
Item1
‡‡$ )
<
‡‡* +
$num
‡‡, .
&&
‡‡/ 1
p7
‡‡2 4
.
‡‡4 5
Item2
‡‡5 :
>=
‡‡; =
$num
‡‡> ?
&&
‡‡@ B
p7
‡‡C E
.
‡‡E F
Item2
‡‡F K
<
‡‡L M
$num
‡‡N P
&&
‡‡Q S
!
ˆˆ 
Points
ˆˆ 
.
ˆˆ 
Exists
ˆˆ 
(
ˆˆ 
point
ˆˆ $
=>
ˆˆ% '
point
ˆˆ( -
.
ˆˆ- .
Row
ˆˆ. 1
==
ˆˆ2 4
p7
ˆˆ5 7
.
ˆˆ7 8
Item1
ˆˆ8 =
&&
ˆˆ> @
point
ˆˆA F
.
ˆˆF G
Column
ˆˆG M
==
ˆˆN P
p7
ˆˆQ S
.
ˆˆS T
Item2
ˆˆT Y
)
ˆˆY Z
)
‰‰ 
Points
‰‰ 
.
‰‰ 
Add
‰‰ 
(
‰‰ 
p7
‰‰ 
)
‰‰ 
;
‰‰ 
if
‹‹ 
(
‹‹ 
p8
‹‹ 
.
‹‹ 
Item1
‹‹ 
>=
‹‹ 
$num
‹‹ 
&&
‹‹  
p8
‹‹! #
.
‹‹# $
Item1
‹‹$ )
<
‹‹* +
$num
‹‹, .
&&
‹‹/ 1
p8
‹‹2 4
.
‹‹4 5
Item2
‹‹5 :
>=
‹‹; =
$num
‹‹> ?
&&
‹‹@ B
p8
‹‹C E
.
‹‹E F
Item2
‹‹F K
<
‹‹L M
$num
‹‹N P
&&
‹‹Q S
!
ŒŒ 
Points
ŒŒ 
.
ŒŒ 
Exists
ŒŒ 
(
ŒŒ 
point
ŒŒ $
=>
ŒŒ% '
point
ŒŒ( -
.
ŒŒ- .
Row
ŒŒ. 1
==
ŒŒ2 4
p8
ŒŒ5 7
.
ŒŒ7 8
Item1
ŒŒ8 =
&&
ŒŒ> @
point
ŒŒA F
.
ŒŒF G
Column
ŒŒG M
==
ŒŒN P
p8
ŒŒQ S
.
ŒŒS T
Item2
ŒŒT Y
)
ŒŒY Z
)
 
Points
 
.
 
Add
 
(
 
p8
 
)
 
;
 
if
 
(
 
p9
 
.
 
Item1
 
>=
 
$num
 
&&
  
p9
! #
.
# $
Item1
$ )
<
* +
$num
, .
&&
/ 1
p9
2 4
.
4 5
Item2
5 :
>=
; =
$num
> ?
&&
@ B
p9
C E
.
E F
Item2
F K
<
L M
$num
N P
&&
Q S
!
 
Points
 
.
 
Exists
 
(
 
point
 $
=>
% '
point
( -
.
- .
Row
. 1
==
2 4
p9
5 7
.
7 8
Item1
8 =
&&
> @
point
A F
.
F G
Column
G M
==
N P
p9
Q S
.
S T
Item2
T Y
)
Y Z
)
‘‘ 
Points
‘‘ 
.
‘‘ 
Add
‘‘ 
(
‘‘ 
p9
‘‘ 
)
‘‘ 
;
‘‘ 
}
’’ 	
)
’’	 

;
’’
 
return
•• 
Points
•• 
;
•• 
}
–– 
public
—— 

static
—— 
(
—— 
int
—— 
,
—— 
int
—— 
,
—— 
bool
—— !
)
——! "!
InfoAboutInputPoint
——# 6
(
——6 7
string
——7 =
input
——> C
)
——C D
{
˜˜ 
if
™™ 

(
™™ 
input
™™ 
.
™™ 
Length
™™ 
!=
™™ 
$num
™™ 
)
™™ 
return
™™ %
(
™™& '
$num
™™' (
,
™™( )
$num
™™* +
,
™™+ ,
false
™™- 2
)
™™2 3
;
™™3 4
var
šš 
Row
šš 
=
šš 
input
šš 
[
šš 
$num
šš 
]
šš 
;
šš 
var
›› 
isRowInt
›› 
=
›› 
int
›› 
.
›› 
TryParse
›› #
(
››# $
Row
››$ '
.
››' (
ToString
››( 0
(
››0 1
)
››1 2
,
››2 3
out
››4 7
_
››8 9
)
››9 :
;
››: ;
var
œœ 
RowInt
œœ 
=
œœ 
isRowInt
œœ 
?
œœ 
int
œœ  #
.
œœ# $
Parse
œœ$ )
(
œœ) *
Row
œœ* -
.
œœ- .
ToString
œœ. 6
(
œœ6 7
)
œœ7 8
)
œœ8 9
:
œœ: ;
$num
œœ< =
;
œœ= >
var
 
isRowOk
 
=
 
isRowInt
 
&&
 !
RowInt
" (
>=
) +
$num
, -
&&
. 0
RowInt
1 7
<=
8 :
$num
; <
;
< =
var
   
Column
   
=
   
input
   
[
   
$num
   
]
   
;
   
var
¡¡ 
isColumnInt
¡¡ 
=
¡¡ 
int
¡¡ 
.
¡¡ 
TryParse
¡¡ &
(
¡¡& '
Column
¡¡' -
.
¡¡- .
ToString
¡¡. 6
(
¡¡6 7
)
¡¡7 8
,
¡¡8 9
out
¡¡: =
_
¡¡> ?
)
¡¡? @
;
¡¡@ A
var
¤¤ 
	ColumnInt
¤¤ 
=
¤¤ 
isColumnInt
¤¤ #
?
¤¤$ %
int
¤¤& )
.
¤¤) *
Parse
¤¤* /
(
¤¤/ 0
Column
¤¤0 6
.
¤¤6 7
ToString
¤¤7 ?
(
¤¤? @
)
¤¤@ A
)
¤¤A B
:
¤¤C D+
TransformColumnLetterToNumber
¤¤E b
(
¤¤b c
Column
¤¤c i
.
¤¤i j
ToString
¤¤j r
(
¤¤r s
)
¤¤s t
)
¤¤t u
;
¤¤u v
var
¦¦ 

isColumnOk
¦¦ 
=
¦¦ 
	ColumnInt
¦¦ "
!=
¦¦# %
-
¦¦& '
$num
¦¦' (
&&
¦¦) +
	ColumnInt
¦¦, 5
>=
¦¦6 8
$num
¦¦9 :
&&
¦¦; =
	ColumnInt
¦¦> G
<=
¦¦H J
$num
¦¦K L
;
¦¦L M
var
§§ 
	isPointOk
§§ 
=
§§ 

isColumnOk
§§ "
&&
§§# %
isRowOk
§§& -
;
§§- .
return
©© 
(
©© 
RowInt
©© 
,
©© 
	ColumnInt
©© !
,
©©! "
	isPointOk
©©# ,
)
©©, -
;
©©- .
}
ªª 
public
¬¬ 

static
¬¬ 
void
¬¬ 
SaveGameInFile
¬¬ %
(
¬¬% &
GameSeaBattle
¬¬& 3
Game
¬¬4 8
)
¬¬8 9
{
­­ 
JsonSaveGame
®® 
JsonSaveGame
®® !
=
®®" #
new
®®$ '
JsonSaveGame
®®( 4
(
®®4 5
)
®®5 6
;
®®6 7
JsonSaveGame
¯¯ 
.
¯¯ 

TurnNumber
¯¯ 
=
¯¯  !
Game
¯¯" &
.
¯¯& '

TurnNumber
¯¯' 1
;
¯¯1 2
JsonSaveGame
°° 
.
°° 
CurrentTurnPlayer
°° &
=
°°' (
Game
°°) -
.
°°- .
CurrentTurnPlayer
°°. ?
;
°°? @
JsonSavePlayer
²² 
JsonSavePlayer1
²² &
=
²²' (
new
²²) ,
JsonSavePlayer
²²- ;
(
²²; <
)
²²< =
;
²²= >
JsonSavePlayer1
³³ 
.
³³ 
Area
³³ 
=
³³ "
ConvertToJaggedArray
³³ 3
(
³³3 4
Game
³³4 8
.
³³8 9
AreaPlayer1
³³9 D
)
³³D E
;
³³E F
JsonSavePlayer1
´´ 
.
´´ 
MovesPlayer
´´ #
=
´´$ %"
ConvertToJaggedArray
´´& :
(
´´: ;
Game
´´; ?
.
´´? @
MovesPlayer1
´´@ L
)
´´L M
;
´´M N
JsonSavePlayer
¶¶ 
JsonSavePlayer2
¶¶ &
=
¶¶' (
new
¶¶) ,
JsonSavePlayer
¶¶- ;
(
¶¶; <
)
¶¶< =
;
¶¶= >
JsonSavePlayer2
·· 
.
·· 
Area
·· 
=
·· "
ConvertToJaggedArray
·· 3
(
··3 4
Game
··4 8
.
··8 9
AreaPlayer2
··9 D
)
··D E
;
··E F
JsonSavePlayer2
¸¸ 
.
¸¸ 
MovesPlayer
¸¸ #
=
¸¸$ %"
ConvertToJaggedArray
¸¸& :
(
¸¸: ;
Game
¸¸; ?
.
¸¸? @
MovesPlayer2
¸¸@ L
)
¸¸L M
;
¸¸M N
string
»»  
JsonSaveGameString
»» !
=
»»" #
JsonSerializer
»»$ 2
.
»»2 3
	Serialize
»»3 <
(
»»< =
JsonSaveGame
»»= I
)
»»I J
;
»»J K
File
¼¼ 
.
¼¼ 
WriteAllText
¼¼ 
(
¼¼ 
$str
¼¼ T
,
¼¼T U 
JsonSaveGameString
¼¼V h
)
¼¼h i
;
¼¼i j
string
¾¾ #
JsonSavePlayer1String
¾¾ $
=
¾¾% &
JsonSerializer
¾¾' 5
.
¾¾5 6
	Serialize
¾¾6 ?
(
¾¾? @
JsonSavePlayer1
¾¾@ O
)
¾¾O P
;
¾¾P Q
File
¿¿ 
.
¿¿ 
WriteAllText
¿¿ 
(
¿¿ 
$str
¿¿ ]
,
¿¿] ^#
JsonSavePlayer1String
¿¿_ t
)
¿¿t u
;
¿¿u v
string
ÀÀ #
JsonSavePlayer2String
ÀÀ $
=
ÀÀ% &
JsonSerializer
ÀÀ' 5
.
ÀÀ5 6
	Serialize
ÀÀ6 ?
(
ÀÀ? @
JsonSavePlayer2
ÀÀ@ O
)
ÀÀO P
;
ÀÀP Q
File
ÁÁ 
.
ÁÁ 
WriteAllText
ÁÁ 
(
ÁÁ 
$str
ÁÁ ]
,
ÁÁ] ^#
JsonSavePlayer2String
ÁÁ_ t
)
ÁÁt u
;
ÁÁu v
}
ÂÂ 
public
ÄÄ 

static
ÄÄ 
bool
ÄÄ 
LoadGameFromFile
ÄÄ '
(
ÄÄ' (
GameSeaBattle
ÄÄ( 5
Game
ÄÄ6 :
)
ÄÄ: ;
{
ÅÅ 
if
ÆÆ 

(
ÆÆ 
File
ÆÆ 
.
ÆÆ 
Exists
ÆÆ 
(
ÆÆ 
$str
ÆÆ R
)
ÆÆR S
!=
ÆÆT V
true
ÆÆW [
||
ÆÆ\ ^
File
ÇÇ 
.
ÇÇ 
Exists
ÇÇ 
(
ÇÇ 
$str
ÇÇ [
)
ÇÇ[ \
!=
ÇÇ] _
true
ÇÇ` d
)
ÇÇd e
return
ÈÈ 
false
ÈÈ 
;
ÈÈ 
string
ÊÊ !
Lastgame_JsonString
ÊÊ "
=
ÊÊ# $
File
ÊÊ% )
.
ÊÊ) *
ReadAllText
ÊÊ* 5
(
ÊÊ5 6
$str
ÊÊ6 p
)
ÊÊp q
;
ÊÊq r
JsonSaveGame
ËË 
Lastgame
ËË 
=
ËË 
JsonSerializer
ËË  .
.
ËË. /
Deserialize
ËË/ :
<
ËË: ;
JsonSaveGame
ËË; G
>
ËËG H
(
ËËH I!
Lastgame_JsonString
ËËI \
)
ËË\ ]
!
ËË] ^
;
ËË^ _
Game
ÍÍ 
.
ÍÍ 
CurrentTurnPlayer
ÍÍ 
=
ÍÍ  
Lastgame
ÍÍ! )
.
ÍÍ) *
CurrentTurnPlayer
ÍÍ* ;
;
ÍÍ; <
Game
ÎÎ 
.
ÎÎ 

TurnNumber
ÎÎ 
=
ÎÎ 
Lastgame
ÎÎ "
.
ÎÎ" #

TurnNumber
ÎÎ# -
;
ÎÎ- .
string
ĞĞ #
SavePlayer1JsonString
ĞĞ $
=
ĞĞ% &
File
ĞĞ' +
.
ĞĞ+ ,
ReadAllText
ĞĞ, 7
(
ĞĞ7 8
$str
ĞĞ8 {
)
ĞĞ{ |
;
ĞĞ| }
JsonSavePlayer
ÑÑ 
SavePlayer1
ÑÑ "
=
ÑÑ# $
JsonSerializer
ÑÑ% 3
.
ÑÑ3 4
Deserialize
ÑÑ4 ?
<
ÑÑ? @
JsonSavePlayer
ÑÑ@ N
>
ÑÑN O
(
ÑÑO P#
SavePlayer1JsonString
ÑÑP e
)
ÑÑe f
!
ÑÑf g
;
ÑÑg h
Game
ÒÒ 
.
ÒÒ 
MovesPlayer1
ÒÒ 
=
ÒÒ  
ConvertToListMoves
ÒÒ .
(
ÒÒ. /
SavePlayer1
ÒÒ/ :
.
ÒÒ: ;
MovesPlayer
ÒÒ; F
)
ÒÒF G
;
ÒÒG H
Game
ÓÓ 
.
ÓÓ 
AreaPlayer1
ÓÓ 
=
ÓÓ 
ConvertToMatrix
ÓÓ *
(
ÓÓ* +
SavePlayer1
ÓÓ+ 6
.
ÓÓ6 7
Area
ÓÓ7 ;
)
ÓÓ; <
;
ÓÓ< =
string
ÕÕ #
SavePlayer2JsonString
ÕÕ $
=
ÕÕ% &
File
ÕÕ' +
.
ÕÕ+ ,
ReadAllText
ÕÕ, 7
(
ÕÕ7 8
$str
ÕÕ8 {
)
ÕÕ{ |
;
ÕÕ| }
JsonSavePlayer
ÖÖ 
SavePlayer2
ÖÖ "
=
ÖÖ# $
JsonSerializer
ÖÖ% 3
.
ÖÖ3 4
Deserialize
ÖÖ4 ?
<
ÖÖ? @
JsonSavePlayer
ÖÖ@ N
>
ÖÖN O
(
ÖÖO P#
SavePlayer2JsonString
ÖÖP e
)
ÖÖe f
!
ÖÖf g
;
ÖÖg h
Game
×× 
.
×× 
MovesPlayer2
×× 
=
××  
ConvertToListMoves
×× .
(
××. /
SavePlayer2
××/ :
.
××: ;
MovesPlayer
××; F
)
××F G
;
××G H
Game
ØØ 
.
ØØ 
AreaPlayer2
ØØ 
=
ØØ 
ConvertToMatrix
ØØ *
(
ØØ* +
SavePlayer2
ØØ+ 6
.
ØØ6 7
Area
ØØ7 ;
)
ØØ; <
;
ØØ< =
return
ÚÚ 
true
ÚÚ 
;
ÚÚ 
}
ÛÛ 
}ÜÜ œ3
<C:\Users\zebra\Desktop\ĞÑ€Ñ…Ğ¸Ğ²\laba3\SeaBattle\Program.cs
Console 
. 
Clear 
( 
) 
; 
GameSeaBattle 
CurrentGame 
= 
new 
GameSeaBattle  -
(- .
). /
;/ 0
bool 
p1 
= 	
false
 
, 
p2 
= 
false 
; 
do

 
{ 
Console 
. 
	WriteLine 
( 
$" 
$str -
"- .
). /
;/ 0
Console 
. 
	WriteLine 
( 
$" 
$str '
"' (
)( )
;) *
var 
login 
= 
Console 
. 
ReadLine  
(  !
)! "
;" #
Console 
. 
	WriteLine 
( 
$" 
$str (
"( )
)) *
;* +
var 
password 
= 
Console 
. 
ReadLine #
(# $
)$ %
;% &
if 
( 
! 	
	Authorize	 
. 
AuthorizePlayer "
(" #
login# (
,( )
password* 2
)2 3
)3 4
Console 
. 
	WriteLine 
( 
$" 
$str @
"@ A
)A B
;B C
else 
p1 

= 
true 
; 
} 
while 
( 	
!	 

p1
 
) 
; 
do 
{ 
Console 
. 
	WriteLine 
( 
$" 
$str -
"- .
). /
;/ 0
Console 
. 
	WriteLine 
( 
$" 
$str '
"' (
)( )
;) *
var 
login 
= 
Console 
. 
ReadLine  
(  !
)! "
;" #
Console!! 
.!! 
	WriteLine!! 
(!! 
$"!! 
$str!! (
"!!( )
)!!) *
;!!* +
var"" 
password"" 
="" 
Console"" 
."" 
ReadLine"" #
(""# $
)""$ %
;""% &
if$$ 
($$ 
!$$ 	
	Authorize$$	 
.$$ 
AuthorizePlayer$$ "
($$" #
login$$# (
,$$( )
password$$* 2
)$$2 3
)$$3 4
Console%% 
.%% 
	WriteLine%% 
(%% 
$"%% 
$str%% @
"%%@ A
)%%A B
;%%B C
else&& 
p2'' 

='' 
true'' 
;'' 
}(( 
while(( 
((( 	
!((	 

p2((
 
)(( 
;(( 
do++ 
{++ 
Console,, 
.,, 
	WriteLine,, 
(,, 
$",, 
$str,, R
",,R S
),,S T
;,,T U
var-- 
InputChoice-- 
=-- 
Console-- 
.-- 
ReadLine-- &
(--& '
)--' (
;--( )
if.. 
(.. 
InputChoice.. 
==.. 
$str.. 
).. 
{// 
CurrentGame00 
.00 
Init00 
(00 
)00 
;00 
break11 
;11 
}22 
else33 
if33	 
(33 
InputChoice33 
==33 
$str33 
)33  
{44 
if55 

(55
 
CurrentGame55 
.55 
LoadLastGame55 #
(55# $
)55$ %
==55& (
true55) -
)55- .
break66 
;66 
Console77 
.77 
	WriteLine77 
(77 
$"77 
$str77 T
"77T U
)77U V
;77V W
}88 
}99 
while99 
(99 	
true99	 
)99 
;99 
Console== 
.== 
	WriteLine== 
(== 
$"== 
$str	== …
"
==… †
)
==† ‡
;
==‡ ˆ
Console?? 
.?? 
	WriteLine?? 
(?? 
$"?? 
$str?? #
{??# $
CurrentGame??$ /
.??/ 0
CurrentTurnPlayer??0 A
}??A B
"??B C
)??C D
;??D E
CurrentGame@@ 
.@@ !
PrintForCurrentPlayer@@ !
(@@! "
)@@" #
;@@# $
boolBB 
IsFinishGameBB 
=BB 
falseBB 
;BB 
whileCC 
(CC 
!CC 
IsFinishGameCC 
)CC 
{DD 
ConsoleEE 
.EE 
WriteEE 
(EE 
$"EE 
$strEE 1
"EE1 2
)EE2 3
;EE3 4
varFF 
	InputDataFF 
=FF 
ConsoleFF 
.FF 
ReadLineFF $
(FF$ %
)FF% &
;FF& '
ifGG 
(GG 
	InputDataGG 
==GG 
$strGG 
)GG 
{HH 
CurrentGameII 
.II 
ExitAndSaveGameII #
(II# $
)II$ %
;II% &
returnJJ 
;JJ 
}KK 
CurrentGameLL 
.LL 
FireLL 
(LL 
	InputDataLL 
)LL 
;LL  
CurrentGameMM 
.MM 6
*Check50ProcentGameCompleteForCurrentPlayerMM :
(MM: ;
)MM; <
;MM< =
ifNN 
(NN 
CurrentGameNN 
.NN (
CheckEndGameForCurrentPlayerNN 0
(NN0 1
)NN1 2
)NN2 3
IsFinishGameNN4 @
=NNA B
trueNNC G
;NNG H
}OO 
ifPP 
(PP 
IsFinishGamePP 
)PP 
ConsolePP 
.PP 
	WriteLinePP #
(PP# $
$"PP$ &
$strPP& ,
{PP, -
CurrentGamePP- 8
.PP8 9
CurrentTurnPlayerPP9 J
}PPJ K
$strPPK U
"PPU V
)PPV W
;PPW XÂ
FC:\Users\zebra\Desktop\ĞÑ€Ñ…Ğ¸Ğ²\laba3\SeaBattle\PasswordStorageDB.cs
public 
static 
class 
PasswordStorageDB %
{ 
private 
static 
List 
< 
byte 
[ 
] 
> 
KnownPasswords  .
=/ 0
new1 4
List5 9
<9 :
byte: >
[> ?
]? @
>@ A
{A B
new 
byte 
[ 
] 
{ 
$num 
, 
$num 
, 
$num "
," #
$num$ &
,& '
$num( +
,+ ,
$num- 0
,0 1
$num2 5
,5 6
$num7 9
,9 :
$num; >
,> ?
$num@ C
,C D
$numE H
,H I
$numJ M
,M N
$numO R
,R S
$numT V
,V W
$numX [
,[ \
$num] _
}_ `
,` a
new 
byte 
[ 
] 
{ 
$num 
, 
$num 
, 
$num  
,  !
$num" %
,% &
$num' *
,* +
$num, .
,. /
$num0 3
,3 4
$num5 8
,8 9
$num: =
,= >
$num? A
,A B
$numC E
,E F
$numG J
,J K
$numL O
,O P
$numQ S
,S T
$numU X
,X Y
$numZ ]
}] ^
,^ _
new 
byte 
[ 
] 
{ 
$num 
, 
$num 
, 
$num  
,  !
$num" %
,% &
$num' *
,* +
$num, /
,/ 0
$num1 3
,3 4
$num5 8
,8 9
$num: =
,= >
$num? A
,A B
$numC F
,F G
$numH J
,J K
$numL N
,N O
$numP S
,S T
$numU X
,X Y
$numZ \
}\ ]
,] ^
} 
; 
public 

static 
bool 
iKnowThisHash $
($ %
byte% )
[) *
]* +
hash, 0
)0 1
{		 
return

 
KnownPasswords

 
.

 
Exists

 $
(

$ %
knowHash

% -
=>

. 0
hash

1 5
.

5 6
SequenceEqual

6 C
(

C D
knowHash

D L
)

L M
)

M N
;

N O
} 
} Ì
CC:\Users\zebra\Desktop\ĞÑ€Ñ…Ğ¸Ğ²\laba3\SeaBattle\JsonSavePlayer.cs
public 
class 
JsonSavePlayer 
{ 
public 

string 
[ 
] 
[ 
] 
Area 
{ 
get  
;  !
set" %
;% &
}' (
public 

int 
[ 
] 
[ 
] 
MovesPlayer 
{  
get! $
;$ %
set& )
;) *
}+ ,
} á
AC:\Users\zebra\Desktop\ĞÑ€Ñ…Ğ¸Ğ²\laba3\SeaBattle\JsonSaveGame.cs
public 
class 
JsonSaveGame 
{ 
public 

int 

TurnNumber 
{ 
get 
;  
set! $
;$ %
}& '
public 

ETurnPlayer 
CurrentTurnPlayer (
{) *
get+ .
;. /
set0 3
;3 4
}5 6
} ô
CC:\Users\zebra\Desktop\ĞÑ€Ñ…Ğ¸Ğ²\laba3\SeaBattle\JsonPlayerArea.cs
public 
class 
JsonPlayerArea 
{ 
public 

string 
[ 
] 
[ 
] 
Area 
{ 
get  
;  !
set" %
;% &
}' (
} Œ—
BC:\Users\zebra\Desktop\ĞÑ€Ñ…Ğ¸Ğ²\laba3\SeaBattle\GameSeaBattle.cs
public 
class 
GameSeaBattle 
{ 
public 

int 

TurnNumber 
= 
$num 
; 
public 

string 
[ 
, 
] 
AreaPlayer1  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 

string 
[ 
, 
] 
AreaPlayer2  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 

List 
< 
( 
int 
Row 
, 
int 
Column $
)$ %
>% &
MovesPlayer1' 3
=4 5
new6 9
List: >
<> ?
(? @
int@ C
RowD G
,G H
intI L
ColumnM S
)S T
>T U
(U V
)V W
;W X
public 

List 
< 
( 
int 
Row 
, 
int 
Column $
)$ %
>% &
MovesPlayer2' 3
=4 5
new6 9
List: >
<> ?
(? @
int@ C
RowD G
,G H
intI L
ColumnM S
)S T
>T U
(U V
)V W
;W X
public

 

ETurnPlayer

 
CurrentTurnPlayer

 (
=

) *
ETurnPlayer

+ 6
.

6 7
Player1

7 >
;

> ?
public 

void 
Init 
( 
) 
{ 
var 
MatrixFirstPlayer 
= 
StaticHelper  ,
., -
GetMatrixFromFile- >
(> ?
$str	? 
)
 ‚
;
‚ ƒ
var 
MatrixSecondPlayer 
=  
StaticHelper! -
.- .
GetMatrixFromFile. ?
(? @
$str	@ ‚
)
‚ ƒ
;
ƒ „
AreaPlayer1 
= 
MatrixFirstPlayer '
;' (
AreaPlayer2 
= 
MatrixSecondPlayer (
;( )
} 
public 

void 
IncrementTurnNumber #
(# $
)$ %
{ 

TurnNumber 
= 

TurnNumber 
+  !
$num" #
;# $
} 
public 

void 
TooglePlayer 
( 
) 
{ 
if 

( 
CurrentTurnPlayer 
==  
ETurnPlayer! ,
., -
Player1- 4
)4 5
CurrentTurnPlayer6 G
=H I
ETurnPlayerJ U
.U V
Player2V ]
;] ^
else 
if 
( 
CurrentTurnPlayer "
==# %
ETurnPlayer& 1
.1 2
Player22 9
)9 :
CurrentTurnPlayer; L
=M N
ETurnPlayerO Z
.Z [
Player1[ b
;b c
Console 
. 
	WriteLine 
( 
$" 
$str +
{+ ,
CurrentTurnPlayer, =
}= >
"> ?
)? @
;@ A!
PrintForCurrentPlayer 
( 
) 
;  
} 
public   

void   
PrintForPlayer1   
(    
)    !
{!! 
Console"" 
."" 
	WriteLine"" 
("" 
$str"" 5
)""5 6
;""6 7
StaticHelper$$ 
.$$ 
PrintSeaArea$$ !
($$! "
AreaPlayer1$$" -
,$$- .
MovesPlayer1$$/ ;
,$$; <
AreaPlayer2$$= H
,$$H I
MovesPlayer2$$J V
)$$V W
;$$W X
}%% 
public&& 

void&& 
PrintForPlayer2&& 
(&&  
)&&  !
{'' 
Console(( 
.(( 
	WriteLine(( 
((( 
$str(( 5
)((5 6
;((6 7
StaticHelper** 
.** 
PrintSeaArea** !
(**! "
AreaPlayer2**" -
,**- .
MovesPlayer2**/ ;
,**; <
AreaPlayer1**= H
,**H I
MovesPlayer1**J V
)**V W
;**W X
}++ 
public,, 

void,, !
PrintForCurrentPlayer,, %
(,,% &
),,& '
{-- 
if.. 

(.. 
CurrentTurnPlayer.. 
==..  
ETurnPlayer..! ,
..., -
Player1..- 4
)..4 5
PrintForPlayer1..6 E
(..E F
)..F G
;..G H
if// 

(// 
CurrentTurnPlayer// 
==//  
ETurnPlayer//! ,
.//, -
Player2//- 4
)//4 5
PrintForPlayer2//6 E
(//E F
)//F G
;//G H
}00 
public11 

void11 $
AddPointForCurrentPlayer11 (
(11( )
(11) *
int11* -
Row11. 1
,111 2
int113 6
Column117 =
)11= >
point11? D
)11D E
{22 
if33 

(33 
CurrentTurnPlayer33 
==33  
ETurnPlayer33! ,
.33, -
Player133- 4
)334 5
MovesPlayer1336 B
.33B C
Add33C F
(33F G
point33G L
)33L M
;33M N
if44 

(44 
CurrentTurnPlayer44 
==44  
ETurnPlayer44! ,
.44, -
Player244- 4
)444 5
MovesPlayer2446 B
.44B C
Add44C F
(44F G
point44G L
)44L M
;44M N
}55 
public66 

bool66 6
*Check50ProcentGameCompleteForCurrentPlayer66 :
(66: ;
)66; <
{77 
if88 

(88 
CurrentTurnPlayer88 
==88  
ETurnPlayer88! ,
.88, -
Player188- 4
)884 5
{99 	
return:: 
StaticHelper:: 
.::  #
Is50ProcentGameComplete::  7
(::7 8
AreaPlayer2::8 C
,::C D
MovesPlayer1::E Q
)::Q R
;::R S
};; 	
if<< 

(<< 
CurrentTurnPlayer<< 
==<<  
ETurnPlayer<<! ,
.<<, -
Player2<<- 4
)<<4 5
{== 	
return>> 
StaticHelper>> 
.>>  #
Is50ProcentGameComplete>>  7
(>>7 8
AreaPlayer1>>8 C
,>>C D
MovesPlayer2>>E Q
)>>Q R
;>>R S
}?? 	
return@@ 
false@@ 
;@@ 
}AA 
publicBB 

boolBB (
CheckEndGameForCurrentPlayerBB ,
(BB, -
)BB- .
{CC 
ifDD 

(DD 
CurrentTurnPlayerDD 
==DD  
ETurnPlayerDD! ,
.DD, -
Player1DD- 4
)DD4 5
{EE 	
returnFF 
StaticHelperFF 
.FF  
	IsEndGameFF  )
(FF) *
AreaPlayer2FF* 5
,FF5 6
MovesPlayer1FF7 C
)FFC D
;FFD E
}GG 	
ifHH 

(HH 
CurrentTurnPlayerHH 
==HH  
ETurnPlayerHH! ,
.HH, -
Player2HH- 4
)HH4 5
{II 	
returnJJ 
StaticHelperJJ 
.JJ  
	IsEndGameJJ  )
(JJ) *
AreaPlayer1JJ* 5
,JJ5 6
MovesPlayer2JJ7 C
)JJC D
;JJD E
}KK 	
returnLL 
falseLL 
;LL 
}MM 
publicNN 

boolNN '
IsNewPointForCuurrentPlayerNN +
(NN+ ,
(NN, -
intNN- 0
RowNN1 4
,NN4 5
intNN6 9
ColumnNN: @
)NN@ A
pointNNB G
)NNG H
{OO 
ifPP 

(PP 
CurrentTurnPlayerPP 
==PP  
ETurnPlayerPP! ,
.PP, -
Player1PP- 4
)PP4 5
{QQ 	
returnRR 
StaticHelperRR 
.RR  

IsNewPointRR  *
(RR* +
MovesPlayer1RR+ 7
,RR7 8
pointRR9 >
)RR> ?
;RR? @
}SS 	
ifTT 

(TT 
CurrentTurnPlayerTT 
==TT  
ETurnPlayerTT! ,
.TT, -
Player2TT- 4
)TT4 5
{UU 	
returnVV 
StaticHelperVV 
.VV  

IsNewPointVV  *
(VV* +
MovesPlayer2VV+ 7
,VV7 8
pointVV9 >
)VV> ?
;VV? @
}WW 	
returnXX 
falseXX 
;XX 
}YY 
publicZZ 

boolZZ )
CheckPointHitForCurrentPlayerZZ -
(ZZ- .
(ZZ. /
intZZ/ 2
RowZZ3 6
,ZZ6 7
intZZ8 ;
ColumnZZ< B
)ZZB C
pointZZD I
)ZZI J
{[[ 
if\\ 

(\\ 
CurrentTurnPlayer\\ 
==\\  
ETurnPlayer\\! ,
.\\, -
Player1\\- 4
)\\4 5
{]] 	
return^^ 
StaticHelper^^ 
.^^  
CheckPointHit^^  -
(^^- .
AreaPlayer2^^. 9
,^^9 :
point^^; @
)^^@ A
;^^A B
}__ 	
if`` 

(`` 
CurrentTurnPlayer`` 
==``  
ETurnPlayer``! ,
.``, -
Player2``- 4
)``4 5
{aa 	
returnbb 
StaticHelperbb 
.bb  
CheckPointHitbb  -
(bb- .
AreaPlayer1bb. 9
,bb9 :
pointbb; @
)bb@ A
;bbA B
}cc 	
returndd 
falsedd 
;dd 
}ee 
publicff 

boolff *
CheckPointKillForCurrentPlayerff .
(ff. /
(ff/ 0
intff0 3
Rowff4 7
,ff7 8
intff9 <
Columnff= C
)ffC D
pointffE J
)ffJ K
{gg 
ifhh 

(hh 
CurrentTurnPlayerhh 
==hh  
ETurnPlayerhh! ,
.hh, -
Player1hh- 4
)hh4 5
{ii 	
returnjj 
StaticHelperjj 
.jj  
CheckPointKilljj  .
(jj. /
AreaPlayer2jj/ :
,jj: ;
MovesPlayer1jj< H
,jjH I
pointjjJ O
)jjO P
;jjP Q
}kk 	
ifll 

(ll 
CurrentTurnPlayerll 
==ll  
ETurnPlayerll! ,
.ll, -
Player2ll- 4
)ll4 5
{mm 	
returnnn 
StaticHelpernn 
.nn  
CheckPointKillnn  .
(nn. /
AreaPlayer1nn/ :
,nn: ;
MovesPlayer2nn< H
,nnH I
pointnnJ O
)nnO P
;nnP Q
}oo 	
returnpp 
falsepp 
;pp 
}qq 
publicrr 

voidrr !
AddPointsAroundFigurerr %
(rr% &
(rr& '
intrr' *
Rowrr+ .
,rr. /
intrr0 3
Columnrr4 :
)rr: ;
pointrr< A
)rrA B
{ss 
iftt 

(tt 
CurrentTurnPlayertt 
==tt  
ETurnPlayertt! ,
.tt, -
Player1tt- 4
)tt4 5
{uu 	
varvv 
Pointsvv 
=vv 
StaticHelpervv %
.vv% &
GetPointArounFigurevv& 9
(vv9 :
AreaPlayer2vv: E
,vvE F
MovesPlayer1vvG S
,vvS T
pointvvU Z
)vvZ [
;vv[ \
varww 
CloneMovesPlayer1ww !
=ww" #
newww$ '
Listww( ,
<ww, -
(ww- .
intww. 1
Rowww2 5
,ww5 6
intww7 :
Columnww; A
)wwA B
>wwB C
(wwC D
MovesPlayer1wwD P
)wwP Q
;wwQ R
Pointsyy 
.yy 
ForEachyy 
(yy 
Pointyy  
=>yy! #
{zz 
var{{ 
IsExists{{ 
={{ 
CloneMovesPlayer1{{ 0
.{{0 1
Exists{{1 7
({{7 8
Move{{8 <
=>{{= ?
Move{{@ D
.{{D E
Row{{E H
=={{I K
Point{{L Q
.{{Q R
Row{{R U
&&{{V X
Move{{Y ]
.{{] ^
Column{{^ d
=={{e g
Point{{h m
.{{m n
Column{{n t
){{t u
;{{u v
if|| 
(|| 
!|| 
IsExists|| 
)|| 
MovesPlayer1|| +
.||+ ,
Add||, /
(||/ 0
Point||0 5
)||5 6
;||6 7
}}} 
)}} 
;}} 
}~~ 	
if 

( 
CurrentTurnPlayer 
==  
ETurnPlayer! ,
., -
Player2- 4
)4 5
{
€€ 	
var
 
Points
 
=
 
StaticHelper
 %
.
% &!
GetPointArounFigure
& 9
(
9 :
AreaPlayer1
: E
,
E F
MovesPlayer2
G S
,
S T
point
U Z
)
Z [
;
[ \
var
ƒƒ 
CloneMovesPlayer2
ƒƒ !
=
ƒƒ" #
new
ƒƒ$ '
List
ƒƒ( ,
<
ƒƒ, -
(
ƒƒ- .
int
ƒƒ. 1
Row
ƒƒ2 5
,
ƒƒ5 6
int
ƒƒ7 :
Column
ƒƒ; A
)
ƒƒA B
>
ƒƒB C
(
ƒƒC D
MovesPlayer2
ƒƒD P
)
ƒƒP Q
;
ƒƒQ R
Points
…… 
.
…… 
ForEach
…… 
(
…… 
Point
……  
=>
……! #
{
†† 
var
‡‡ 
IsExists
‡‡ 
=
‡‡ 
CloneMovesPlayer2
‡‡ 0
.
‡‡0 1
Exists
‡‡1 7
(
‡‡7 8
Move
‡‡8 <
=>
‡‡= ?
Move
‡‡@ D
.
‡‡D E
Row
‡‡E H
==
‡‡I K
Point
‡‡L Q
.
‡‡Q R
Row
‡‡R U
&&
‡‡V X
Move
‡‡Y ]
.
‡‡] ^
Column
‡‡^ d
==
‡‡e g
Point
‡‡h m
.
‡‡m n
Column
‡‡n t
)
‡‡t u
;
‡‡u v
if
ˆˆ 
(
ˆˆ 
!
ˆˆ 
IsExists
ˆˆ 
)
ˆˆ 
MovesPlayer2
ˆˆ +
.
ˆˆ+ ,
Add
ˆˆ, /
(
ˆˆ/ 0
Point
ˆˆ0 5
)
ˆˆ5 6
;
ˆˆ6 7
}
‰‰ 
)
‰‰ 
;
‰‰ 
}
ŠŠ 	
}
‹‹ 
public
 
$
ETypeResponceAfterFire
 !
Fire
" &
(
& '
string
' -
	inputText
. 7
)
7 8
{
 
var
 
(
 
RowInt
 
,
 
	ColumnInt
 
,
 
	isPointOk
  )
)
) *
=
+ ,
StaticHelper
- 9
.
9 :!
InfoAboutInputPoint
: M
(
M N
	inputText
N W
)
W X
;
X Y
var
‘‘ 
point
‘‘ 
=
‘‘ 
(
‘‘ 
RowInt
‘‘ 
,
‘‘ 
	ColumnInt
‘‘ &
)
‘‘& '
;
‘‘' (
if
““ 

(
““ 
!
““ 
	isPointOk
““ 
)
““ 
{
”” 	
Console
•• 
.
•• 
	WriteLine
•• 
(
•• 
$"
••  
$str
••  5
{
••5 6
	inputText
••6 ?
}
••? @
$str
••@ M
"
••M N
)
••N O
;
••O P
return
–– $
ETypeResponceAfterFire
–– )
.
––) *
NotValidPoint
––* 7
;
––7 8
}
—— 	
var
™™ 

isNewPoint
™™ 
=
™™ )
IsNewPointForCuurrentPlayer
™™ 4
(
™™4 5
point
™™5 :
)
™™: ;
;
™™; <
if
šš 

(
šš 
!
šš 

isNewPoint
šš 
)
šš 
{
›› 	
Console
œœ 
.
œœ 
	WriteLine
œœ 
(
œœ 
$"
œœ  
$str
œœ  5
{
œœ5 6
	inputText
œœ6 ?
}
œœ? @
$str
œœ@ U
"
œœU V
)
œœV W
;
œœW X
return
 $
ETypeResponceAfterFire
 )
.
) *
Used
* .
;
. /
}
 	&
AddPointForCurrentPlayer
    
(
    !
point
  ! &
)
  & '
;
  ' (
var
¢¢ 
IsHit
¢¢ 
=
¢¢ +
CheckPointHitForCurrentPlayer
¢¢ 1
(
¢¢1 2
point
¢¢2 7
)
¢¢7 8
;
¢¢8 9
if
¤¤ 

(
¤¤ 
!
¤¤ 
IsHit
¤¤ 
)
¤¤ 
{
¥¥ 	
Console
¦¦ 
.
¦¦ 
	WriteLine
¦¦ 
(
¦¦ 
$str
¦¦ &
)
¦¦& '
;
¦¦' (
TooglePlayer
§§ 
(
§§ 
)
§§ 
;
§§ 
return
¨¨ $
ETypeResponceAfterFire
¨¨ )
.
¨¨) *
NotHit
¨¨* 0
;
¨¨0 1
}
©© 	
var
«« 
IsKill
«« 
=
«« ,
CheckPointKillForCurrentPlayer
«« 3
(
««3 4
point
««4 9
)
««9 :
;
««: ;
if
­­ 

(
­­ 
IsKill
­­ 
)
­­ 
{
®® 	
Console
¯¯ 
.
¯¯ 
	WriteLine
¯¯ 
(
¯¯ 
$str
¯¯ $
)
¯¯$ %
;
¯¯% &#
AddPointsAroundFigure
°° !
(
°°! "
point
°°" '
)
°°' (
;
°°( )
}
±± 	
else
²² 
{
³³ 	
Console
´´ 
.
´´ 
	WriteLine
´´ 
(
´´ 
$str
´´ %
)
´´% &
;
´´& '
}
µµ 	#
PrintForCurrentPlayer
¶¶ 
(
¶¶ 
)
¶¶ 
;
¶¶  !
IncrementTurnNumber
·· 
(
·· 
)
·· 
;
·· 
return
¹¹ 
IsKill
¹¹ 
?
¹¹ $
ETypeResponceAfterFire
¹¹ .
.
¹¹. /
Kill
¹¹/ 3
:
¹¹4 5$
ETypeResponceAfterFire
¹¹6 L
.
¹¹L M
Hit
¹¹M P
;
¹¹P Q
}
ºº 
public
½½ 

void
½½ 
ExitAndSaveGame
½½ 
(
½½  
)
½½  !
{
¾¾ 
StaticHelper
¿¿ 
.
¿¿ 
SaveGameInFile
¿¿ #
(
¿¿# $
this
¿¿$ (
)
¿¿( )
;
¿¿) *
}
ÀÀ 
public
ÁÁ 

bool
ÁÁ 
LoadLastGame
ÁÁ 
(
ÁÁ 
)
ÁÁ 
{
ÂÂ 
return
ÃÃ 
StaticHelper
ÃÃ 
.
ÃÃ 
LoadGameFromFile
ÃÃ ,
(
ÃÃ, -
this
ÃÃ- 1
)
ÃÃ1 2
;
ÃÃ2 3
}
ÄÄ 
}ÅÅ Æ
KC:\Users\zebra\Desktop\ĞÑ€Ñ…Ğ¸Ğ²\laba3\SeaBattle\ETypeResponceAfterFire.cs
public 
enum "
ETypeResponceAfterFire "
{ 
Hit 
= 	
$num
 
, 
Kill 
=	 

$num 
, 
NotValidPoint 
= 
$num 
, 
NotHit 

= 
$num 
, 
Used 
=	 

$num 
, 
Other 	
=
 
$num 
, 
}		 £
@C:\Users\zebra\Desktop\ĞÑ€Ñ…Ğ¸Ğ²\laba3\SeaBattle\ETurnPlayer.cs
public 
enum 
ETurnPlayer 
{ 
Player1 
= 
$num 
, 
Player2 
= 
$num 
, 
} õ
>C:\Users\zebra\Desktop\ĞÑ€Ñ…Ğ¸Ğ²\laba3\SeaBattle\Authorize.cs
public 
static 
class 
	Authorize 
{ 
private 
static 
string 
MySalt  
=! "
$str# L
;L M
public 

static 
bool 
AuthorizePlayer &
(& '
string' -
login. 3
,3 4
string5 ;
password< D
)D E
{ 
var 

textForMD5 
= 
$" 
{ 
login !
}! "
{" #
password# +
}+ ,
{, -
MySalt- 3
}3 4
"4 5
;5 6
byte 
[ 
] 
hash 
; 
using 
( 
MD5 
md5 
= 
MD5 
. 
Create #
(# $
)$ %
)% &
{ 	
hash 
= 
md5 
. 
ComputeHash "
(" #
Encoding# +
.+ ,
UTF8, 0
.0 1
GetBytes1 9
(9 :

textForMD5: D
)D E
)E F
;F G
} 	
return!! 
PasswordStorageDB!!  
.!!  !
iKnowThisHash!!! .
(!!. /
hash!!/ 3
)!!3 4
;!!4 5
}"" 
}## 